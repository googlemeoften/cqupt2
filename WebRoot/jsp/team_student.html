<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>优秀学生</title>
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/style-model.css" rel="stylesheet">
	</head>
	<body>
		<div class="modal fade" id="myModalStudent" >
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss = "modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="myModalTitle" >图片预览</h4>
					</div>
					<div class="modal-body">
						<img src="" style="max-width: 100px;max-height: 140px;"/>
						<div class="modalContent">
							<!--<h4>学生简介</h4>
							<p>啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</p>
							<p>啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</p>
							<p>啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</p>-->
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
					</div>
				</div>
			</div>
		</div>
		
		<div class="head">
			<div class="wrap">
				<img src="../images/logo.png" / alt="cqupt">
				<p class="context">网络与信息安全中心</p>
			</div>
		</div>
		<div id="menuList" class="navList">
			<div id="menuList-wrap">
				<a href="../index.jsp" class="connection" >首页</a>
				<a href="newsList.jsp" class="connection">通知公告</a>
				<a href="team_intruoduce.html" class="connection" style="color:yellow">团队介绍</a>
				<a href="teamPhoto.html" class="connection">团队文化</a>
				<a href="aboutUs.html" class="connection">关于我们</a>
			</div>
			<div id="navbottomtip"></div>
		</div>
		<div class="img-wrap">
			
		</div>
		
		<div class="contain clearfix">
			<div class="project_news_type">
				<h2 class="news-center">团队介绍</h2>
				<div id="navbar" class="new_type_content">
					<ul class="nav nav-tabs nav-tabs-li" role="tablist">
						<li><a href="team_intruoduce.html" >总体概述</a></li>
						<li><a href="team_teacher.html" >教师风采</a></li>
						<li><a href="#" class="active-li">优秀学生</a></li>
						<li><a href="teamProject.html">团队项目</a></li>
						<!--<li><a href="#content4">培训</a></li>
						<li><a href="#content5">生活</a></li>
						<li><a href="#content6">本科生</a></li>-->
						<!--<li><a href="list.html">公司内刊</a></li>-->
					</ul>
				</div>
			</div>
			
			<div class="project_list_box ">
				<div class="panel panel-default">
					<div class="panel-heading">
					优秀学生
						<ol class="breadcrumb">
						  <li><a href="#">首页</a></li>
						  <li class="active">团队介绍</li>
						  <li class="active">优秀学生</li>
						</ol>
					</div>
					<div class="panel-body">
						<div class="row">
						</div>
					</div>
				</div>
			</div>
		</div>
		
		
		<script src="../js/jquery-1.11.2.min.js"></script>
		<script src="../js/script-model.js"></script>
		<script src="../js/bootstrap.min.js"></script>
		<script>
			$(function(){
			
		var imgInfro={
				id:undefined
			}
		/*从后台获取数据进行填充*/
			$.ajax({
				type:"post",
				url:"../findAllStudent.action",
				async:true,
				success:function(data){
					
					var divs='';
					for(var i=0,len=data.length;i<len;i++){
						divs+='<div class="col-md-2">'+
								'<a href="#" class="thumbnail">'+
									'<div class="restrictImg">'+
							      		'<img src="../'+data[i].person_image+'" alt="" data-toggle="modal" data-target="#myModalStudent" width="100px" height="140px" data-id='+i+'>'+
							      	'</div>'+
							      	'<div class="caption">'+
							      		'<h5>'+data[i].person_name+'</h5>'+
							      		'<p>'+data[i].work+'</p>'+
							      	'</div>'+
							    '</a>'+
							'</div>';
					}
					$('.panel-body .row').html(divs);
					
					
					$(".panel-body img").click(function(){
					var osrc=$(this).attr("src");
					var oid=$(this).data("id");
					imgInfro.id=oid;
					console.log(imgInfro.id);
					$("#myModalStudent .modal-body img").attr("src",osrc);
			});
				}
			});
			
			
			
			$('#myModalStudent').on('show.bs.modal', function (e) {
					
					$.ajax({
						type:"post",
						url:"../findAllStudent.action",
						async:true,
						success:function(data){
							var oid=imgInfro.id; 
							console.log(oid);
							var intro='';
							var description=data[oid]['description'];
							intro='<h4>'+data[oid]['person_name']+'简介'+'</h4>'+
								'<p style="text-indent: 2em">'+description+'</p>'+
							'</div>';
							
							$('#myModalStudent .modal-body .modalContent').html(intro);
						}
					});
			});
			
	});
		</script>
	</body>
</html>
